{% extends 'core/base.html' %}
{% load static %}

{% block content %}

<h1>Portal GP</h1>
<br>

<div class="container text-center">
  <div class="row">
    <div class="col">
      <div class="card m-3">
        <div class="card-header">
          <strong class="bi bi-database"> Base de datos</strong>
        </div>
        <div class="card-body">
          <div class="btn-group mb-2" role="group" aria-label="Basic example">
            <a href="{% url 'gps' %}" type="button" class="btn btn-primary">G.P.</a>
            <a href="{% url 'mbds' %}" type="button" class="btn btn-primary">M.B.D.</a>
            <a href="{% url 'drgs' %}" type="button" class="btn btn-primary">Drgs</a>
          </div>
          <a href="{% url 'drgs' %}" type="button" class="btn btn-primary mb-2">Faltas</a>
        </div>
      </div>
      <div class="card m-3">
        <div class="card-header">
          <strong class="bi bi-link"> Enlaces</strong>
        </div>
        <div class="card-body">
          <a href="{% url 'drgs' %}" type="button" class="btn btn-primary mb-2">Constitución</a>
          <a href="{% url 'drgs' %}" type="button" class="btn btn-primary mb-2">WikiGP</a>
          <a href="{% url 'drgs' %}" type="button" class="btn btn-primary mb-2">etcedasdas</a>
          <a href="{% url 'drgs' %}" type="button" class="btn btn-primary mb-2">Faasdsd</a>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card m-3">
        <div class="card-header">
          <strong class="bi bi-bar-chart"> Estadísticas rápidas</strong>
        </div>
        <div class="card-body">
          <ul class="text-start">
            <li><strong>Cantidad de G.P.:</strong> {{ gp_count }}</li>
            <li><strong>Cantidad de M.B.D.:</strong> {{ mbd_count }}</li>
            <li><strong>Cantidad de Drg:</strong> {{ drg_count }}</li>
            <hr>
            <li><strong>Cantidad de Drg:</strong></li>
            <hr>
            <a href="{% url 'stats' %}"><strong>Ver más estadísticas</strong></a>
          </ul>

        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="card">
        <h5 class="card-header bi bi-geo-alt"> ¿Desde dónde se ha gepeado?</h5>
        <div class="card-body">
          <style>
            #map { height: 400px; }
          </style>
          <div id="map"></div>
          <script>
              var map = L.map('map').setView([41.2230414, 1.518593], 2);
          
              L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                  attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
              }).addTo(map);
              // penedes
              var marker = L.marker([41.2230414, 1.518593], {}).bindPopup('Penedès').openPopup().addTo(map);
              // barcelona
              var marker = L.marker([41.3927673, 2.0577888], {}).bindPopup('Barcelona').openPopup().addTo(map);
              // holanda
              var marker = L.marker([52.3547607, 4.7391535], {}).bindPopup('Amsterdam').openPopup().addTo(map);
              // tandil
              var marker = L.marker([-37.3194474, -59.1839017], {}).bindPopup('Tandil').openPopup().addTo(map);
              // sassari
              var marker = L.marker([40.7261907, 8.5049481], {}).bindPopup('Sassari').openPopup().addTo(map);
          </script>
        </div>
      </div>
    </div>
  </div>
  <hr>
  <h1 class="text-start bi bi-journal-bookmark-fill"> Agenda G.P.</h1>
  <div>{% include 'agenda/agenda_component.html' %}</div>
</div>


{% endblock %}